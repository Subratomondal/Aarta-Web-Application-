{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}Edit Profile ‚Äì Artisan{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white p-8 shadow-lg rounded-xl border border-sand mt-10">
  <h2 class="text-3xl font-display font-semibold text-brown mb-6 text-center">‚úèÔ∏è Edit Artisan Profile</h2>

  <form method="POST" enctype="multipart/form-data" class="space-y-5">
    {% csrf_token %}
    
    {% if form.non_field_errors %}
      <div class="p-3 bg-red-100 text-red-700 rounded-md text-sm">
        {{ form.non_field_errors.0 }}
      </div>
    {% endif %}

    <div>
      <label for="id_bio" class="block text-sm font-medium text-gray-700 mb-1">Bio</label>
      {% render_field form.bio class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" rows="3" %}
      {% if form.bio.errors %}<p class="text-sm text-red-600 mt-1">{{ form.bio.errors.0 }}</p>{% endif %}
    </div>

    <div>
      <label for="id_profile_pic" class="block text-sm font-medium text-gray-700 mb-1">Profile Picture</label>
      {% render_field form.profile_pic class="w-full text-sm text-gray-700" %}
      {% if form.profile_pic.errors %}<p class="text-sm text-red-600 mt-1">{{ form.profile_pic.errors.0 }}</p>{% endif %}
    </div>

    <div>
      <label for="id_location" class="block text-sm font-medium text-gray-700 mb-1">Location</label>
      {% render_field form.location class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" %}
      {% if form.location.errors %}<p class="text-sm text-red-600 mt-1">{{ form.location.errors.0 }}</p>{% endif %}
    </div>

    <div>
      <label for="id_phone_number" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
      {% render_field form.phone_number class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" %}
      {% if form.phone_number.errors %}<p class="text-sm text-red-600 mt-1">{{ form.phone_number.errors.0 }}</p>{% endif %}
    </div>

    <div>
      <label for="id_address" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
      {% render_field form.address class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" rows="2" %}
      {% if form.address.errors %}<p class="text-sm text-red-600 mt-1">{{ form.address.errors.0 }}</p>{% endif %}
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <div>
        <label for="id_city" class="block text-sm font-medium text-gray-700 mb-1">City</label>
        {% render_field form.city class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" %}
        {% if form.city.errors %}<p class="text-sm text-red-600 mt-1">{{ form.city.errors.0 }}</p>{% endif %}
      </div>

      <div>
        <label for="id_state" class="block text-sm font-medium text-gray-700 mb-1">State</label>
        {% render_field form.state class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" %}
        {% if form.state.errors %}<p class="text-sm text-red-600 mt-1">{{ form.state.errors.0 }}</p>{% endif %}
      </div>

      <div>
        <label for="id_postal_code" class="block text-sm font-medium text-gray-700 mb-1">Postal Code</label>
        {% render_field form.postal_code class="w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-brown" %}
        {% if form.postal_code.errors %}<p class="text-sm text-red-600 mt-1">{{ form.postal_code.errors.0 }}</p>{% endif %}
      </div>
    </div>

    <div class="text-right pt-4">
      <button type="submit" class="bg-brown hover:bg-mahogany text-white font-semibold px-6 py-2 rounded shadow transition duration-200">
        üíæ Save Changes
      </button>
    </div>
  </form>
</div>
{% endblock %}